<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>জীববিজ্ঞান ইন্টারেক্টিভ পাঠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .quiz-question {
            display: none;
        }
        .quiz-question.active {
            display: block;
        }
        .option-btn.selected {
            background-color: #3b82f6; /* blue-500 */
            color: white;
        }
        .option-btn.correct {
            background-color: #22c55e; /* green-500 */
            color: white;
        }
        .option-btn.incorrect {
            background-color: #ef4444; /* red-500 */
            color: white;
        }
        .explanation {
            display: none;
        }
        .timer-bar {
            height: 5px;
            background-color: #3b82f6;
            transition: width 1s linear;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-600">জীববিজ্ঞান ইন্টারেক্টিভ পাঠ</h1>
            <p class="text-lg text-gray-600 mt-2">একটি শিক্ষামূলক প্ল্যাটফর্ম</p>
        </header>

        <!-- Tabs Navigation -->
        <div class="mb-8 border-b border-gray-300">
            <nav class="flex flex-wrap -mb-px" aria-label="Tabs">
                <button class="tab-btn whitespace-nowrap py-4 px-6 border-b-2 font-medium text-lg border-teal-500 text-teal-600" onclick="showTab('continuity-of-life')">জীবনের প্রবাহমানতা</button>
                <button class="tab-btn whitespace-nowrap py-4 px-6 border-b-2 font-medium text-lg border-transparent hover:text-gray-700 hover:border-gray-300" onclick="showTab('heredity')">বংশগতি</button>
                <button class="tab-btn whitespace-nowrap py-4 px-6 border-b-2 font-medium text-lg border-transparent hover:text-gray-700 hover:border-gray-300" onclick="showTab('evolution-adaptation')">অভিব্যক্তি ও অভিযোজন</button>
                <button class="tab-btn whitespace-nowrap py-4 px-6 border-b-2 font-medium text-lg border-transparent hover:text-gray-700 hover:border-gray-300" onclick="showTab('quiz')">কুইজ</button>
            </nav>
        </div>

        <!-- Tab Content -->
        <main>
            <!-- Continuity of Life Tab -->
            <div id="continuity-of-life" class="tab-content active">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold mb-4 text-teal-700">জীবনের প্রবাহমানতা (Continuity of Life)</h2>
                    
                    <div class="mb-8">
                        <h3 class="text-2xl font-semibold mb-2">কোষ বিভাজন ও কোষ চক্র</h3>
                        <p class="mb-4">জীবদেহে কোষ বিভাজন একটি মৌলিক প্রক্রিয়া যার মাধ্যমে জীবের বৃদ্ধি, জনন ও ক্ষয়পূরণ ঘটে। কোষ বিভাজনের আগে কোষকে একটি চক্রের মধ্যে দিয়ে যেতে হয়, যাকে কোষ চক্র বলে।</p>
                        
                        <h4 class="text-xl font-semibold mt-6 mb-2">ক্রোমোজোম, DNA ও জিন</h4>
                        <p>ক্রোমোজোম হলো নিউক্লিয়াসে অবস্থিত সূত্রাকার অংশ যা বংশগতির ধারক ও বাহক। এর প্রধান উপাদান হলো DNA। DNA-এর নির্দিষ্ট কার্যকরী অংশকে জিন বলে, যা জীবের বৈশিষ্ট্য নিয়ন্ত্রণ করে।</p>
                        <div class="flex justify-center my-4"><img src="https://i.imgur.com/8z2X3Yj.png" alt="ক্রোমোজোমের গঠন" class="rounded-lg shadow-md max-w-md w-full"></div>

                        <h4 class="text-xl font-semibold mt-6 mb-2">কোষ চক্র (Cell Cycle)</h4>
                        <p>একটি কোষের বৃদ্ধি এবং বিভাজনের চক্রাকার প্রক্রিয়াকে কোষ চক্র বলে। এর দুটি প্রধান দশা হলো ইন্টারফেজ (প্রস্তুতি দশা) এবং মাইটোটিক ফেজ (বিভাজন দশা)।</p>
                        <div class="flex justify-center my-4"><img src="https://i.imgur.com/gS2fS4k.png" alt="কোষ চক্র" class="rounded-lg shadow-md max-w-sm w-full"></div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-2xl font-semibold mb-2">মাইটোসিস (Mitosis)</h3>
                            <p class="mb-4">এটি একটি সমবিভাজন প্রক্রিয়া যেখানে একটি মাতৃকোষ বিভাজিত হয়ে দুটি সমগুণসম্পন্ন অপত্য কোষ সৃষ্টি করে। এটি জীবের বৃদ্ধি ও ক্ষয়পূরণে সাহায্য করে।</p>
                            <div class="flex justify-center my-4"><img src="https://i.imgur.com/7tZ1wXy.png" alt="মাইটোসিস কোষ বিভাজন" class="rounded-lg shadow-md w-full"></div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold mb-2">মিয়োসিস (Meiosis)</h3>
                            <p class="mb-4">এটি একটি হ্রাস বিভাজন প্রক্রিয়া যেখানে মাতৃকোষের ক্রোমোজোম সংখ্যা অর্ধেক হয়ে যায়। এটি জনন কোষ বা গ্যামেট তৈরিতে সাহায্য করে এবং প্রজাতির ক্রোমোজোম সংখ্যা ধ্রুবক রাখে।</p>
                            <div class="flex justify-center my-4"><img src="https://i.imgur.com/sN2vM3f.png" alt="মিয়োসিস কোষ বিভাজন" class="rounded-lg shadow-md w-full"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Heredity Tab -->
            <div id="heredity" class="tab-content">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold mb-4 text-teal-700">বংশগতি এবং কয়েকটি সাধারণ জিনগত রোগ</h2>
                    <div id="introduction">
                        <h3 class="text-2xl font-semibold mb-2">বংশগতি কী?</h3>
                        <p class="mb-4">যে নির্দিষ্ট রীতি বা পদ্ধতিতে জননের মাধ্যমে পিতা-মাতা থেকে চারিত্রিক বৈশিষ্ট্য বংশপরম্পরায় সন্তান-সন্ততিতে সঞ্চারিত হয়, তাকে বংশগতি বা হেরিডিটি বলে।</p>
                        <div class="flex justify-center my-6">
                            <img src="https://i.imgur.com/3aJt3rX.png" alt="নিষেক প্রক্রিয়া" class="rounded-lg shadow-lg max-w-xs w-full">
                        </div>
                    </div>
                    <div id="mendels-laws" class="mt-8">
                        <h3 class="text-2xl font-semibold mb-2">মেন্ডেলের পরীক্ষা ও সূত্র</h3>
                        <p class="mb-4">গ্রেগর যোহান মেন্ডেল মটর গাছের উপর পরীক্ষা করে বংশগতির দুটি গুরুত্বপূর্ণ সূত্র আবিষ্কার করেন।</p>
                        <div class="mb-8">
                            <h4 class="text-xl font-semibold mb-2">একসংকর জনন (Monohybrid Cross)</h4>
                            <div id="monohybrid-cross-animation" class="p-4 border rounded-lg mt-4 text-center bg-gray-50">
                                <p class="mb-4">বিশুদ্ধ লম্বা (TT) ও বিশুদ্ধ বেঁটে (tt) মটর গাছের মধ্যে ক্রস করলে কী হবে দেখতে নিচের বোতামে ক্লিক করুন।</p>
                                <button onclick="startMonohybridCross()" class="bg-teal-500 text-white px-6 py-2 rounded-lg hover:bg-teal-600 transition">অ্যানিমেশন শুরু করুন</button>
                                <div id="monohybrid-steps" class="mt-4 text-left"></div>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-xl font-semibold mb-2">দ্বিসংকর জনন (Dihybrid Cross)</h4>
                             <div class="flex justify-center">
                                <img src="https://i.imgur.com/eF4tB9C.png" alt="দ্বিসংকর জনন চেকার বোর্ড" class="rounded-lg shadow-lg max-w-full md:max-w-2xl">
                            </div>
                        </div>
                    </div>
                     <div id="genetic-diseases" class="mt-8">
                        <h3 class="text-2xl font-semibold mb-4">সাধারণ জিনগত রোগ</h3>
                        <div class="space-y-8">
                            <div>
                                <h4 class="text-xl font-semibold text-red-600">থ্যালাসেমিয়া</h4>
                                <p>এটি একটি অটোজোমাল প্রচ্ছন্ন জিনবাহিত রোগ। এই রোগে হিমোগ্লোবিন ঠিকমতো তৈরি হয় না, ফলে রক্তাল্পতা দেখা দেয়।</p>
                            </div>
                            <div>
                                <h4 class="text-xl font-semibold text-blue-600">হিমোফিলিয়া</h4>
                                <p>এটি X-ক্রোমোজোমবাহিত প্রচ্ছন্ন জিনঘটিত রোগ। এই রোগে রক্ত তঞ্চনকারী ফ্যাক্টর তৈরি হয় না।</p>
                            </div>
                            <div>
                                <h4 class="text-xl font-semibold text-green-600">বর্ণান্ধতা</h4>
                                <p>এটিও একটি X-ক্রোমোজোমবাহিত প্রচ্ছন্ন জিনঘটিত রোগ। আক্রান্ত ব্যক্তি লাল ও সবুজ বর্ণের মধ্যে পার্থক্য করতে পারেন না।</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Evolution & Adaptation Tab -->
            <div id="evolution-adaptation" class="tab-content">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold mb-4 text-teal-700">অভিব্যক্তি ও অভিযোজন</h2>
                    
                    <div class="mb-8">
                        <h3 class="text-2xl font-semibold mb-2">অভিব্যক্তি (Evolution)</h3>
                        <p class="mb-4">অভিব্যক্তি হলো সেই ধীর ও গতিশীল প্রক্রিয়া যার মাধ্যমে সরল জীব থেকে জটিল জীবের উদ্ভব ঘটে।</p>
                        
                        <h4 class="text-xl font-semibold mt-6 mb-2">ল্যামার্কের মতবাদ (Lamarckism)</h4>
                        <p>ল্যামার্কের মতে, পরিবেশের প্রভাবে জীবের মধ্যে কিছু বৈশিষ্ট্য অর্জিত হয় এবং সেই অর্জিত বৈশিষ্ট্যগুলি বংশপরম্পরায় সঞ্চারিত হয়ে নতুন প্রজাতির উদ্ভব ঘটায়। যেমন - জিরাফের গলা লম্বা হওয়া।</p>
                        <div class="flex justify-center my-4"><img src="https://i.imgur.com/5CRJ8Sg.png" alt="ল্যামার্কের জিরাফ" class="rounded-lg shadow-md max-w-sm w-full"></div>

                        <h4 class="text-xl font-semibold mt-6 mb-2">ডারউইনের মতবাদ (Darwinism)</h4>
                        <p>ডারউইনের তত্ত্বের মূল কথা হলো 'প্রাকৃতিক নির্বাচন'। এর মতে, জীবন সংগ্রামে যোগ্যতম জীবেরা প্রকৃতি দ্বারা নির্বাচিত হয় এবং বংশবিস্তার করে, অন্যরা বিলুপ্ত হয়ে যায়।</p>
                        <div class="flex justify-center my-4"><img src="https://i.imgur.com/s1mJ3D3.png" alt="ডারউইনের ফিঞ্চ পাখি" class="rounded-lg shadow-md max-w-sm w-full"></div>

                        <h4 class="text-xl font-semibold mt-6 mb-2">অভিব্যক্তির প্রমাণ</h4>
                        <p class="mb-2"><b>সমসংস্থ অঙ্গ (Homologous Organs):</b> যে সব অঙ্গের উৎপত্তি ও গঠন এক কিন্তু কাজ ভিন্ন, তাদের সমসংস্থ অঙ্গ বলে। যেমন - মানুষের হাত, তিমির ফ্লিপার, বাদুড়ের ডানা।</p>
                        <div class="flex justify-center my-4"><img src="https://i.imgur.com/xQ8k4gW.png" alt="সমসংস্থ অঙ্গ" class="rounded-lg shadow-md max-w-md w-full"></div>
                        <p class="mb-2"><b>সমবৃত্তীয় অঙ্গ (Analogous Organs):</b> যে সব অঙ্গের উৎপত্তি ভিন্ন কিন্তু কাজ এক, তাদের সমবৃত্তীয় অঙ্গ বলে। যেমন - পাখির ডানা ও পতঙ্গের ডানা।</p>
                        <div class="flex justify-center my-4"><img src="https://i.imgur.com/uR2i1yW.png" alt="সমবৃত্তীয় অঙ্গ" class="rounded-lg shadow-md max-w-md w-full"></div>
                    </div>

                    <div>
                        <h3 class="text-2xl font-semibold mb-2">অভিযোজন (Adaptation)</h3>
                        <p class="mb-4">পরিবর্তনশীল পরিবেশে নিজেদের অস্তিত্ব বজায় রাখার জন্য এবং বংশবিস্তার করার জন্য জীবের অঙ্গসংস্থানিক ও শারীরবৃত্তীয় পরিবর্তনকে অভিযোজন বলে।</p>
                        <div class="grid md:grid-cols-3 gap-6 text-center">
                            <div>
                                <img src="https://i.imgur.com/dM2z1xS.jpg" alt="ক্যাকটাস" class="rounded-lg shadow-md w-full h-48 object-cover">
                                <h5 class="font-bold mt-2">ক্যাকটাসের অভিযোজন</h5>
                                <p class="text-sm">জল সংরক্ষণের জন্য পাতা কাঁটায় রূপান্তরিত হয়েছে।</p>
                            </div>
                            <div>
                                <img src="https://i.imgur.com/jYt8vIK.jpg" alt="পায়রা" class="rounded-lg shadow-md w-full h-48 object-cover">
                                <h5 class="font-bold mt-2">পায়রার খেচর অভিযোজন</h5>
                                <p class="text-sm">দেহে বায়ুথলি থাকায় দেহ হালকা হয় এবং সহজে উড়তে পারে।</p>
                            </div>
                            <div>
                                <img src="https://i.imgur.com/cWJz9gV.jpg" alt="উট" class="rounded-lg shadow-md w-full h-48 object-cover">
                                <h5 class="font-bold mt-2">উটের অভিযোজন</h5>
                                <p class="text-sm">কুঁজে সঞ্চিত ফ্যাট থেকে প্রয়োজনে জল ও শক্তি পায়।</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quiz Tab -->
            <div id="quiz" class="tab-content">
                <div id="quiz-start-screen" class="text-center bg-white p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4 text-teal-700">জীববিজ্ঞান কুইজ</h2>
                    <p class="mb-6">আপনার জ্ঞান পরীক্ষা করুন। শুরু করার আগে আপনার নাম, অধ্যায় ও স্তর নির্বাচন করুন।</p>
                    <input type="text" id="student-name" placeholder="আপনার নাম লিখুন" class="w-full md:w-1/2 p-3 border rounded-lg mb-4">
                    <div id="name-error" class="text-red-500 mb-4 hidden">অনুগ্রহ করে আপনার নাম লিখুন।</div>
                    
                    <div class="mb-4">
                        <label for="quiz-chapter" class="block mb-2 font-medium">অধ্যায় নির্বাচন করুন:</label>
                        <select id="quiz-chapter" class="w-full md:w-1/2 p-3 border rounded-lg">
                            <option value="Continuity">জীবনের প্রবাহমানতা</option>
                            <option value="Heredity">বংশগতি</option>
                            <option value="Evolution">অভিব্যক্তি ও অভিযোজন</option>
                        </select>
                    </div>

                    <div id="level-selection" class="mb-4">
                        <label for="quiz-level" class="block mb-2 font-medium">স্তর নির্বাচন করুন:</label>
                        <select id="quiz-level" class="w-full md:w-1/2 p-3 border rounded-lg">
                            <option value="1">স্তর ১ (সহজ)</option>
                            <option value="2">স্তর ২ (মধ্যম)</option>
                            <option value="3">স্তর ৩ (কঠিন)</option>
                            <option value="4">স্তর ৪ (বিশেষজ্ঞ)</option>
                        </select>
                    </div>
                    <button onclick="startQuiz()" class="bg-teal-500 text-white px-8 py-3 rounded-lg hover:bg-teal-600 transition text-lg">কুইজ শুরু করুন</button>
                </div>

                <div id="quiz-container" class="hidden bg-white p-6 rounded-lg shadow-md">
                    <div id="quiz-header" class="flex justify-between items-center mb-4">
                        <h3 id="question-counter" class="text-lg font-semibold"></h3>
                        <div id="timer" class="text-lg font-bold"></div>
                    </div>
                    <div id="timer-bar-container" class="w-full bg-gray-200 rounded-full mb-4">
                        <div id="timer-bar" class="timer-bar rounded-full"></div>
                    </div>
                    <div id="questions-wrapper"></div>
                    <button id="next-question-btn" onclick="nextQuestion()" class="mt-6 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition hidden">পরবর্তী প্রশ্ন</button>
                </div>
                
                <div id="quiz-result-screen" class="hidden bg-white p-8 rounded-lg shadow-md">
                    <h2 class="text-3xl font-bold mb-4 text-center text-teal-700">কুইজ সম্পন্ন!</h2>
                    <p id="result-summary" class="text-xl text-center mb-6"></p>
                    <div id="wrong-answers-container" class="space-y-4">
                        <h3 class="text-2xl font-semibold border-b pb-2">ভুল উত্তর ও সঠিক ব্যাখ্যা:</h3>
                    </div>
                    <div class="text-center mt-8">
                        <button onclick="restartQuiz()" class="bg-teal-500 text-white px-8 py-3 rounded-lg hover:bg-teal-600 transition text-lg">আবার চেষ্টা করুন</button>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <script>
        // Tab functionality
        function showTab(tabId) {
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');

            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(button => {
                button.classList.remove('border-teal-500', 'text-teal-600');
                button.classList.add('border-transparent', 'hover:text-gray-700', 'hover:border-gray-300');
            });
            event.currentTarget.classList.add('border-teal-500', 'text-teal-600');
            event.currentTarget.classList.remove('border-transparent', 'hover:text-gray-700', 'hover:border-gray-300');
        }

        // Monohybrid cross animation
        function startMonohybridCross() {
            const container = document.getElementById('monohybrid-steps');
            container.innerHTML = '';
            const steps = [
                "<b>ধাপ ১: জনিতৃ জনু (P)</b><br>একটি বিশুদ্ধ লম্বা (TT) গাছের সাথে একটি বিশুদ্ধ বেঁটে (tt) গাছের ক্রস ঘটানো হলো।",
                "<b>ধাপ ২: গ্যামেট গঠন</b><br>লম্বা গাছ থেকে T গ্যামেট এবং বেঁটে গাছ থেকে t গ্যামেট উৎপন্ন হয়।",
                "<b>ধাপ ৩: প্রথম অপত্য জনু (F₁)</b><br>T ও t গ্যামেটের মিলনে সব গাছ সংকর লম্বা (Tt) হয়।",
                "<b>ধাপ ৪: দ্বিতীয় অপত্য জনু (F₂)</b><br>F₁ জনুর দুটি গাছের মধ্যে স্বপরাগযোগ ঘটানো হয়।",
                "<b>ফলাফল:</b> F₂ জনুতে লম্বা ও বেঁটে গাছের ফিনোটাইপ অনুপাত হয় ৩:১ এবং জিনোটাইপ অনুপাত (TT:Tt:tt) হয় ১:২:১।"
            ];
            let i = 0;
            const interval = setInterval(() => {
                if (i < steps.length) {
                    const p = document.createElement('p');
                    p.innerHTML = steps[i];
                    p.className = 'p-2 bg-teal-50 rounded-lg mb-2 fade-in';
                    container.appendChild(p);
                    i++;
                } else {
                    clearInterval(interval);
                }
            }, 1500);
        }

        // Quiz functionality
        const allQuestions = [
            // Continuity of Life Questions
            { chapter: "Continuity", question: "কোষ বিভাজনের কোন দশায় ক্রোমোজোমগুলি সুস্পষ্টভাবে দেখা যায়?", options: ["প্রোফেজ", "মেটাফেজ", "অ্যানাফেজ", "টেলোফেজ"], answer: "মেটাফেজ", explanation: "মেটাফেজ দশায় ক্রোমোজোমগুলি সবচেয়ে মোটা ও খাটো হয় এবং বিষুব অঞ্চলে সজ্জিত থাকে, তাই সবচেয়ে স্পষ্টভাবে দেখা যায়।", level: 1, time: 15 },
            { chapter: "Continuity", question: "DNA-এর সম্পূর্ণ নাম কী?", options: ["ডিঅক্সিরাইবো নিউক্লিক অ্যাসিড", "রাইবো নিউক্লিক অ্যাসিড", "ডিঅক্সিরাইবোজ নিউক্লিয়াস", "রাইবোজ নিউক্লিক অ্যাসিড"], answer: "ডিঅক্সিরাইবো নিউক্লিক অ্যাসিড", explanation: "DNA (Deoxyribonucleic Acid) হলো ক্রোমোজোমের প্রধান উপাদান এবং বংশগতির ধারক।", level: 1, time: 15 },
            { chapter: "Continuity", question: "কোন প্রকার কোষ বিভাজনকে সমবিভাজন বলা হয়?", options: ["মাইটোসিস", "মিয়োসিস", "অ্যামাইটোসিস", "সাইটোকাইনেসিস"], answer: "মাইটোসিস", explanation: "মাইটোসিস প্রক্রিয়ায় মাতৃকোষের ক্রোমোজোম সংখ্যা অপত্য কোষে সমান থাকে, তাই একে সমবিভাজন বলে।", level: 1, time: 15 },
            { chapter: "Continuity", question: "জনন মাতৃকোষে কোন প্রকার বিভাজন ঘটে?", options: ["মাইটোসিস", "মিয়োসিস", "অ্যামাইটোসিস", "দ্বিবিভাজন"], answer: "মিয়োসিস", explanation: "জনন মাতৃকোষে মিয়োসিস বিভাজনের মাধ্যমে জনন কোষ বা গ্যামেট তৈরি হয়।", level: 1, time: 15 },
            { chapter: "Continuity", question: "মানুষের দেহকোষে অটোজোমের সংখ্যা কত?", options: ["৪৬টি", "৪৪টি", "২৩টি", "২টি"], answer: "৪৪টি", explanation: "মানুষের ৪৬টি ক্রোমোজোমের মধ্যে ৪৪টি (২২ জোড়া) হলো অটোজোম বা দেহ ক্রোমোজোম।", level: 1, time: 15 },
            { chapter: "Continuity", question: "কোষ চক্রের কোন দশায় DNA সংশ্লেষ ঘটে?", options: ["G₁ দশা", "S দশা", "G₂ দশা", "M দশা"], answer: "S দশা", explanation: "ইন্টারফেজের S (Synthesis) দশায় DNA-এর প্রতিলিপিকরণ বা সংশ্লেষ ঘটে।", level: 2, time: 20 },
            { chapter: "Continuity", question: "ক্রসিং ওভার মিয়োসিসের কোন উপদশায় ঘটে?", options: ["লেপ্টোটিন", "জাইগোটিন", "প্যাকাইটিন", "ডিপ্লোটিন"], answer: "প্যাকাইটিন", explanation: "মিয়োসিস-I এর প্রোফেজ-I এর প্যাকাইটিন উপদশায় সমসংস্থ ক্রোমোজোমের নন-সিস্টার ক্রোমাটিডের মধ্যে অংশের বিনিময় বা ক্রসিং ওভার ঘটে।", level: 2, time: 25 },
            { chapter: "Continuity", question: "উদ্ভিদ কোষে সাইটোকাইনেসিস কীভাবে ঘটে?", options: ["ফারোয়িং বা ক্লিভেজ পদ্ধতিতে", "কোষ প্রাচীর গঠনের মাধ্যমে", "কোষপাত বা সেল প্লেট গঠনের মাধ্যমে", "সংকোচনের মাধ্যমে"], answer: "কোষপাত বা সেল প্লেট গঠনের মাধ্যমে", explanation: "উদ্ভিদ কোষে ফ্র্যাগমোপ্লাস্ট থেকে কোষপাত বা সেল প্লেট তৈরি হয় যা পরে কোষ প্রাচীরে পরিণত হয়।", level: 2, time: 25 },
            { chapter: "Continuity", question: "মাইটোসিসের কোন দশায় সিস্টার ক্রোমাটিড দুটি আলাদা হয়ে যায়?", options: ["প্রোফেজ", "মেটাফেজ", "অ্যানাফেজ", "টেলোফেজ"], answer: "অ্যানাফেজ", explanation: "অ্যানাফেজ দশায় সেন্ট্রোমিয়ার বিভাজিত হয় এবং সিস্টার ক্রোমাটিড দুটি অপত্য ক্রোমোজোম হিসেবে বিপরীত মেরুর দিকে গমন করে।", level: 2, time: 20 },
            { chapter: "Continuity", question: "কোন প্রকার জননে প্রকরণ সৃষ্টি হয়?", options: ["অঙ্গজ জনন", "অযৌন জনন", "যৌন জনন", "পুনরুৎপাদন"], answer: "যৌন জনন", explanation: "যৌন জননে মিয়োসিস কালে ক্রসিং ওভার এবং দুটি ভিন্ন গ্যামেটের মিলনের ফলে নতুন বৈশিষ্ট্যের সংমিশ্রণ ঘটে, যা প্রকরণ সৃষ্টি করে।", level: 2, time: 20 },
            { chapter: "Continuity", question: "ক্রোমোজোমের শেষ প্রান্তকে কী বলে?", options: ["সেন্ট্রোমিয়ার", "টেলোমিয়ার", "স্যাটেলাইট", "ক্রোমাটিড"], answer: "টেলোমিয়ার", explanation: "ক্রোমোজোমের দুটি শেষ প্রান্তকে টেলোমিয়ার বলে, যা ক্রোমোজোমকে स्थायित्व প্রদান করে।", level: 1, time: 15 },
            { chapter: "Continuity", question: "কোন প্রকার কোষ বিভাজনকে হ্রাস বিভাজন বলা হয়?", options: ["মাইটোসিস", "মিয়োসিস", "অ্যামাইটোসিস", "দ্বিখণ্ডন"], answer: "মিয়োসিস", explanation: "মিয়োসিস বিভাজনে মাতৃকোষের ক্রোমোজোম সংখ্যা অপত্য কোষে অর্ধেক হয়ে যায়, তাই একে হ্রাস বিভাজন বলে।", level: 1, time: 15 },
            { chapter: "Continuity", question: "প্রাণীকোশে বেমতন্তু গঠনে কোন কোষ অঙ্গাণু সাহায্য করে?", options: ["রাইবোজোম", "লাইসোজোম", "সেন্ট্রোজোম", "গলগি বস্তু"], answer: "সেন্ট্রোজোম", explanation: "প্রাণীকোশে সেন্ট্রোজোম থেকে অ্যাস্ট্রাল রশ্মি নির্গত হয় যা বেমতন্তু গঠন করে।", level: 2, time: 20 },
            { chapter: "Continuity", question: "DNA-তে অ্যাডেনিনের পরিপূরক বেস কোনটি?", options: ["গুয়ানিন", "সাইটোসিন", "থাইমিন", "ইউরাসিল"], answer: "থাইমিন", explanation: "DNA-এর দ্বিতন্ত্রী গঠনে অ্যাডেনিন (A) দুটি হাইড্রোজেন বন্ড দ্বারা থাইমিনের (T) সাথে যুক্ত থাকে।", level: 1, time: 15 },
            { chapter: "Continuity", question: "কায়াজমা (Chiasma) কোথায় দেখা যায়?", options: ["মাইটোসিসের প্রোফেজে", "মিয়োসিসের প্রোফেজ-I এ", "মাইটোসিসের অ্যানাফেজে", "মিয়োসিসের অ্যানাফেজ-II এ"], answer: "মিয়োসিসের প্রোফেজ-I এ", explanation: "ক্রসিং ওভারের ফলে সমসংস্থ ক্রোমোজোম জোড়ের মধ্যে যে 'X' আকৃতির গঠন তৈরি হয়, তাকে কায়াজমা বলে। এটি ডিপ্লোটিন উপদশায় দেখা যায়।", level: 3, time: 30 },
            { chapter: "Continuity", question: "কোষ চক্রের কোন চেকপয়েন্টটি সবচেয়ে গুরুত্বপূর্ণ?", options: ["G₁ চেকপয়েন্ট", "S চেকপয়েন্ট", "G₂ চেকপয়েন্ট", "M চেকপয়েন্ট"], answer: "G₁ চেকপয়েন্ট", explanation: "G₁ চেকপয়েন্ট বা রেস্ট্রিকশন পয়েন্ট সিদ্ধান্ত নেয় কোষটি বিভাজিত হবে কিনা, তাই এটি সবচেয়ে গুরুত্বপূর্ণ।", level: 3, time: 30 },
            { chapter: "Continuity", question: "অনিয়ন্ত্রিত মাইটোসিসের ফলে কী রোগ হয়?", options: ["ডায়াবেটিস", "ক্যান্সার", "থ্যালাসেমিয়া", "হিমোফিলিয়া"], answer: "ক্যান্সার", explanation: "কোষ চক্রের নিয়ন্ত্রণ নষ্ট হয়ে অনিয়ন্ত্রিত কোষ বিভাজন ঘটলে টিউমার ও ক্যান্সার সৃষ্টি হয়।", level: 2, time: 20 },
            { chapter: "Continuity", question: "কোন প্রোটিন ক্রোমোজোমের প্রধান গঠনগত উপাদান?", options: ["অ্যাকটিন", "মায়োসিন", "হিস্টোন", "গ্লোবিউলিন"], answer: "হিস্টোন", explanation: "ইউক্যারিওটিক কোষে DNA হিস্টোন প্রোটিনকে পেঁচিয়ে নিউক্লিওসোম গঠন করে, যা ক্রোমোজোমের মূল কাঠামো।", level: 2, time: 25 },
            { chapter: "Continuity", question: "মিয়োসিস বিভাজনের তাৎপর্য কী?", options: ["দেহের বৃদ্ধি ঘটানো", "প্রজাতির ক্রোমোজোম সংখ্যা ধ্রুবক রাখা", "ক্ষয়পূরণ করা", "অঙ্গজ জননে সাহায্য করা"], answer: "প্রজাতির ক্রোমোজোম সংখ্যা ধ্রুবক রাখা", explanation: "মিয়োসিসের ফলে গ্যামেটে ক্রোমোজোম সংখ্যা অর্ধেক (n) হয়, যা নিষেকের পর পুনরায় ডিপ্লয়েড (2n) অবস্থা ফিরিয়ে আনে এবং প্রজাতির ক্রোমোজোম সংখ্যা অপরিবর্তিত রাখে।", level: 2, time: 25 },
            { chapter: "Continuity", question: "সাইন্যাপসিস কী?", options: ["দুটি ক্রোমাটিডের জোড় বাঁধা", "দুটি সমসংস্থ ক্রোমোজোমের জোড় বাঁধা", "দুটি সেন্ট্রোমিয়ারের জোড় বাঁধা", "দুটি কোষের মিলন"], answer: "দুটি সমসংস্থ ক্রোমোজোমের জোড় বাঁধা", explanation: "মিয়োসিসের জাইগোটিন উপদশায় দুটি সমসংস্থ বা হোমোলোগাস ক্রোমোজোমের পাশাপাশি এসে জোড় বাঁধার ঘটনাকে সাইন্যাপসিস বলে।", level: 3, time: 30 },
            { chapter: "Continuity", question: "কোষ চক্র নিয়ন্ত্রণে কোন প্রোটিনগুলি গুরুত্বপূর্ণ ভূমিকা পালন করে?", options: ["হিমোগ্লোবিন ও মায়োগ্লোবিন", "সাইক্লিন ও সিডিকে (CDK)", "অ্যাকটিন ও মায়োসিন", "ইনসুলিন ও গ্লুকাগন"], answer: "সাইক্লিন ও সিডিকে (CDK)", explanation: "সাইক্লিন এবং সাইক্লিন-ডিপেন্ডেন্ট কাইনেজ (CDK) নামক প্রোটিনগুলি কোষ চক্রের বিভিন্ন দশা নিয়ন্ত্রণ করে।", level: 4, time: 40 },
            { chapter: "Continuity", question: "G₀ (জি জিরো) দশা কী?", options: ["একটি বিভাজনরত দশা", "একটি বিশ্রামরত বা অবিভাজন দশা", "S দশার পূর্ববর্তী দশা", "M দশার অংশ"], answer: "একটি বিশ্রামরত বা অবিভাজন দশা", explanation: "কিছু কোষ, যেমন স্নায়ু কোষ বা পেশি কোষ, বিভাজিত না হয়ে G₁ দশা থেকে বেরিয়ে একটি নিষ্ক্রিয় বা বিশ্রামরত দশায় প্রবেশ করে, যা G₀ দশা নামে পরিচিত।", level: 3, time: 30 },
            { chapter: "Continuity", question: "ম্যালিগন্যান্ট টিউমার বলতে কী বোঝায়?", options: ["স্থির ও নিরীহ টিউমার", "স্থানান্তর ক্ষমতাসম্পন্ন ক্ষতিকর টিউমার (ক্যান্সার)", "কোষের স্বাভাবিক বৃদ্ধি", "ক্ষতস্থানের ফোলা"], answer: "স্থানান্তর ক্ষমতাসম্পন্ন ক্ষতিকর টিউমার (ক্যান্সার)", explanation: "যে টিউমারের কোষগুলি উৎপত্তিস্থল থেকে রক্ত বা লসিকার মাধ্যমে দেহের অন্য অংশে ছড়িয়ে পড়তে পারে (মেটাস্ট্যাসিস), তাকে ম্যালিগন্যান্ট টিউমার বা ক্যান্সার বলে।", level: 3, time: 35 },
            { chapter: "Continuity", question: "মিয়োসিস II কোন বিভাজনের অনুরূপ?", options: ["মিয়োসিস I", "অ্যামাইটোসিস", "মাইটোসিস", "দ্বিবিভাজন"], answer: "মাইটোসিস", explanation: "মিয়োসিস II বিভাজনটি মাইটোসিসের মতোই একটি সমবিভাজন, যেখানে সিস্টার ক্রোমাটিড দুটি পৃথক হয়।", level: 3, time: 25 },
            { chapter: "Continuity", question: "কোন প্রকার জননে হ্যাপ্লয়েড ও ডিপ্লয়েড দশার চক্রাকার আবর্তন বা জনুক্রম দেখা যায়?", options: ["অযৌন জনন", "অঙ্গজ জনন", "যৌন জনন", "সব ক্ষেত্রেই"], answer: "যৌন জনন", explanation: "ফার্ন জাতীয় উদ্ভিদের মতো জীবে যৌন জনন প্রক্রিয়ায় হ্যাপ্লয়েড লিঙ্গধর জনু এবং ডিপ্লয়েড রেণুধর জনুর পর্যায়ক্রমিক আবর্তন ঘটে, যা জনুক্রম নামে পরিচিত।", level: 4, time: 40 },

            // Heredity Questions
            { chapter: "Heredity", question: "বংশগতিবিদ্যার জনক কে?", options: ["ডারউইন", "ল্যামার্ক", "মেন্ডেল", "দ্য ভ্রিস"], answer: "মেন্ডেল", explanation: "গ্রেগর যোহান মেন্ডেলকে বংশগতিবিদ্যার জনক বলা হয়।", level: 1, time: 15 },
            { chapter: "Heredity", question: "একসংকর জননের F₂ জনুর ফিনোটাইপিক অনুপাত কত?", options: ["১:২:১", "৯:৩:৩:১", "৩:১", "১:১"], answer: "৩:১", explanation: "মেন্ডেলের একসংকর জনন পরীক্ষায় F₂ জনুতে প্রকট ও প্রচ্ছন্ন বৈশিষ্ট্যের অনুপাত হয় ৩:১।", level: 1, time: 20 },
            { chapter: "Heredity", question: "কোনটি জিনগত রোগ?", options: ["সর্দি-কাশি", "টাইফয়েড", "থ্যালাসেমিয়া", "ম্যালেরিয়া"], answer: "থ্যালাসেমিয়া", explanation: "থ্যালাসেমিয়া একটি অটোজোমবাহিত প্রচ্ছন্ন জিনগত রোগ।", level: 1, time: 15 },
            { chapter: "Heredity", question: "দ্বিসংকর জননের F₂ জনুর ফিনোটাইপিক অনুপাত কত?", options: ["১:২:১", "৯:৩:৩:১", "৩:১", "১:১:১:১"], answer: "৯:৩:৩:১", explanation: "মেন্ডেলের দ্বিসংকর জনন পরীক্ষায় F₂ জনুতে ৯:৩:৩:১ অনুপাতে চার প্রকার ফিনোটাইপ দেখা যায়।", level: 2, time: 25 },
            { chapter: "Heredity", question: "হিমোফিলিয়ার বাহক মাতা ও স্বাভাবিক পিতার পুত্রসন্তানদের হিমোফিলিক হওয়ার সম্ভাবনা কত?", options: ["০%", "২৫%", "৫০%", "১০০%"], answer: "৫০%", explanation: "মাতা বাহক (XᴴXʰ) হলে তার পুত্রদের মধ্যে ৫০% স্বাভাবিক (XᴴY) এবং ৫০% হিমোফিলিক (XʰY) হওয়ার সম্ভাবনা থাকে।", level: 2, time: 35 },
            { chapter: "Heredity", question: "মানুষের ABO রক্তগ্রুপ কোন ধরনের বংশগতির উদাহরণ?", options: ["অসম্পূর্ণ প্রকটতা", "সহপ্রকটতা ও মাল্টিপল অ্যালিল", "পলিজেনিক বংশগতি", "লিংকেজ"], answer: "সহপ্রকটতা ও মাল্টিপল অ্যালিল", explanation: "ABO রক্তগ্রুপে A ও B অ্যালিল পরস্পরের প্রতি সহপ্রকট এবং এটি তিনটি অ্যালিল দ্বারা নিয়ন্ত্রিত হয় বলে মাল্টিপল অ্যালিলেরও উদাহরণ।", level: 3, time: 40 },
            { chapter: "Heredity", question: "প্লিওট্রপি (Pleiotropy) বলতে কী বোঝায়?", options: ["একটি জিন দ্বারা একাধিক বৈশিষ্ট্যের নিয়ন্ত্রণ", "একাধিক জিন দ্বারা একটি বৈশিষ্ট্যের নিয়ন্ত্রণ", "দুটি জিনের মধ্যে মিথস্ক্রিয়া", "জিনের অবস্থান পরিবর্তন"], answer: "একটি জিন দ্বারা একাধিক বৈশিষ্ট্যের নিয়ন্ত্রণ", explanation: "যখন একটিমাত্র জিন একাধিক ফিনোটাইপিক বৈশিষ্ট্যকে নিয়ন্ত্রণ করে, তখন সেই ঘটনাকে প্লিওট্রপি বলে। যেমন- সিকেল সেল অ্যানিমিয়া।", level: 3, time: 40 },
            { chapter: "Heredity", question: "লিংকেজ (Linkage) মেন্ডেলের কোন সূত্রের ব্যতিক্রম?", options: ["প্রকটতার সূত্র", "পৃথকীভবন সূত্র", "স্বাধীন সঞ্চারণ সূত্র", "কোনোটিই নয়"], answer: "স্বাধীন সঞ্চারণ সূত্র", explanation: "একই ক্রোমোজোমে থাকা জিনগুলি একসঙ্গে সঞ্চারিত হওয়ার প্রবণতা দেখায় (লিংকেজ), যা স্বাধীন সঞ্চারণ সূত্রের ব্যতিক্রম।", level: 4, time: 45 },
            { chapter: "Heredity", question: "হোলান্ড্রিক জিন (Holandric gene) কোথায় অবস্থিত?", options: ["X ক্রোমোজোমে", "Y ক্রোমোজোমে", "অটোজোমে", "মাইটোকন্ড্রিয়ায়"], answer: "Y ক্রোমোজোমে", explanation: "যেসব জিন কেবল Y ক্রোমোজোমে থাকে এবং শুধুমাত্র পিতা থেকে পুত্রে সঞ্চারিত হয়, তাদের হোলান্ড্রিক জিন বলে।", level: 4, time: 45 },

            // Evolution & Adaptation Questions
            { chapter: "Evolution", question: "'অর্জিত বৈশিষ্ট্যের উত্তরাধিকার' কার মতবাদ?", options: ["ডারউইন", "ল্যামার্ক", "দ্য ভ্রিস", "ভাইসম্যান"], answer: "ল্যামার্ক", explanation: "বিজ্ঞানী জ্যাঁ ব্যাপটিস্ট ল্যামার্ক 'অর্জিত বৈশিষ্ট্যের উত্তরাধিকার' মতবাদটির প্রবক্তা।", level: 1, time: 15 },
            { chapter: "Evolution", question: "পাখির ডানা ও পতঙ্গের ডানা কি ধরনের অঙ্গ?", options: ["সমসংস্থ অঙ্গ", "সমবৃত্তীয় অঙ্গ", "নিষ্ক্রিয় অঙ্গ", "প্রতিস্থাপিত অঙ্গ"], answer: "সমবৃত্তীয় অঙ্গ", explanation: "পাখির ডানা ও পতঙ্গের ডানার কাজ এক (উড়তে সাহায্য করা) কিন্তু গঠন ও উৎপত্তি ভিন্ন, তাই এরা সমবৃত্তীয় অঙ্গ।", level: 1, time: 20 },
            { chapter: "Evolution", question: "উটের কুঁজে কী সঞ্চিত থাকে?", options: ["জল", "ফ্যাট", "প্রোটিন", "কার্বোহাইড্রেট"], answer: "ফ্যাট", explanation: "উটের কুঁজে চর্বি বা ফ্যাট সঞ্চিত থাকে, যা থেকে প্রয়োজনে শক্তি ও জল উৎপন্ন হয়।", level: 1, time: 15 },
            { chapter: "Evolution", question: "মানুষের হাত ও পাখির ডানা কীসের উদাহরণ?", options: ["সমবৃত্তীয় অঙ্গ", "সমসংস্থ অঙ্গ", "নিষ্ক্রিয় অঙ্গ", "প্রতিবর্তী অঙ্গ"], answer: "সমসংস্থ অঙ্গ", explanation: "মানুষের হাত ও পাখির ডানার অভ্যন্তরীণ গঠন ও উৎপত্তি এক, কিন্তু কাজ আলাদা। তাই এরা সমসংস্থ অঙ্গ।", level: 2, time: 25 },
            { chapter: "Evolution", question: "সুন্দরী গাছের শ্বাসমূল কোন দিকে বৃদ্ধি পায়?", options: ["মাটির গভীরে", "মাটির সমান্তরালে", "অভিকর্ষের বিপরীতে", "আলোর দিকে"], answer: "অভিকর্ষের বিপরীতে", explanation: "শ্বাস-প্রশ্বাসের জন্য অক্সিজেন গ্রহণের উদ্দেশ্যে সুন্দরী গাছের শ্বাসমূল বা নিউম্যাটোফোর অভিকর্ষের বিপরীতে মাটির উপরে উঠে আসে।", level: 2, time: 30 },
            { chapter: "Evolution", question: "কোনটিকে 'মিসিং লিঙ্ক' বা 'হারানো সূত্র' বলা হয়?", options: ["পেরিপেটাস", "প্লাটিপাস", "আর্কিওপটেরিক্স", "মানুষ"], answer: "আর্কিওপটেরিক্স", explanation: "আর্কিওপটেরিক্সের জীবাশ্মে সরীসৃপ ও পাখি উভয়ের বৈশিষ্ট্য থাকায় একে দুটি শ্রেণীর মধ্যে সংযোগ রক্ষাকারী প্রাণী বা মিসিং লিঙ্ক বলা হয়।", level: 3, time: 35 },
            { chapter: "Evolution", question: "মিলার ও উরের পরীক্ষায় কোন গ্যাসটি অনুপস্থিত ছিল?", options: ["মিথেন (CH₄)", "অ্যামোনিয়া (NH₃)", "হাইড্রোজেন (H₂)", "অক্সিজেন (O₂)"], answer: "অক্সিজেন (O₂)", explanation: "মিলার ও উরে আদিম পৃথিবীর অনুকরণে যে পরীক্ষা করেন, তাতে বিজারক পরিবেশ ছিল এবং মুক্ত অক্সিজেন অনুপস্থিত ছিল।", level: 3, time: 40 },
            { chapter: "Evolution", question: "হার্ডি-উইনবার্গ সাম্যাবস্থা (Hardy-Weinberg Equilibrium) বজায় থাকার শর্ত কোনটি নয়?", options: ["বৃহৎ পপুলেশন", "দৈব যৌন মিলন", "প্রাকৃতিক নির্বাচন ঘটা", "পরিব্যক্তি ও মাইগ্রেশন না ঘটা"], answer: "প্রাকৃতিক নির্বাচন ঘটা", explanation: "হার্ডি-উইনবার্গ সাম্যাবস্থা বজায় থাকার জন্য পপুলেশনকে অভিব্যক্তি ঘটায় এমন শক্তি (যেমন প্রাকৃতিক নির্বাচন, পরিব্যক্তি) থেকে মুক্ত থাকতে হবে।", level: 4, time: 50 },
            { chapter: "Evolution", question: "কোনটিকে 'অ্যাডাপটিভ রেডিয়েশন' (Adaptive Radiation) বলা হয়?", options: ["একটি প্রজাতি থেকে বিভিন্ন পরিবেশে একাধিক নতুন প্রজাতির উদ্ভব", "দুটি ভিন্ন প্রজাতির একই রকম অভিযোজন", "একটি প্রজাতির বিলুপ্তি", "পরিযায়ী পাখির ফিরে আসা"], answer: "একটি প্রজাতি থেকে বিভিন্ন পরিবেশে একাধিক নতুন প্রজাতির উদ্ভব", explanation: "যখন একটি সাধারণ পূর্বপুরুষ থেকে বিবর্তিত হয়ে একাধিক প্রজাতি বিভিন্ন পরিবেশে ভিন্ন ভিন্ন ভাবে অভিযোজিত হয়, তাকে অ্যাডাপটিভ রেডিয়েশন বলে। যেমন- ডারউইনের ফিঞ্চ।", level: 4, time: 50 }
        ];
        
        let currentChapter = 'Continuity';
        let currentLevel = 1;
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let wrongAnswers = [];
        let timerInterval;
        let studentName = '';

        function startQuiz() {
            studentName = document.getElementById('student-name').value;
            const errorDiv = document.getElementById('name-error');
            if (studentName.trim() === '') {
                errorDiv.classList.remove('hidden');
                setTimeout(() => errorDiv.classList.add('hidden'), 3000);
                return;
            }
            
            currentChapter = document.getElementById('quiz-chapter').value;
            currentLevel = parseInt(document.getElementById('quiz-level').value);
            
            const filteredQuestions = allQuestions.filter(q => q.chapter === currentChapter && q.level === currentLevel);
            
            // Shuffle and pick up to 25 questions
            quizQuestions = filteredQuestions.sort(() => 0.5 - Math.random()).slice(0, 25);
            
            if(quizQuestions.length === 0) {
                errorDiv.innerText = 'এই অধ্যায় ও স্তরের জন্য কোনো প্রশ্ন পাওয়া যায়নি।';
                errorDiv.classList.remove('hidden');
                setTimeout(() => {
                    errorDiv.classList.add('hidden');
                    errorDiv.innerText = 'অনুগ্রহ করে আপনার নাম লিখুন।';
                }, 3000);
                return;
            }

            currentQuestionIndex = 0;
            score = 0;
            wrongAnswers = [];

            document.getElementById('quiz-start-screen').classList.add('hidden');
            document.getElementById('quiz-result-screen').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');

            displayQuestion();
        }

        function displayQuestion() {
            if (currentQuestionIndex < quizQuestions.length) {
                const question = quizQuestions[currentQuestionIndex];
                const wrapper = document.getElementById('questions-wrapper');
                wrapper.innerHTML = '';

                const qDiv = document.createElement('div');
                qDiv.className = 'quiz-question active fade-in';
                qDiv.innerHTML = `
                    <p class="text-xl md:text-2xl font-semibold mb-6">${currentQuestionIndex + 1}. ${question.question}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${question.options.map(option => `
                            <button class="option-btn w-full text-left p-4 border rounded-lg hover:bg-gray-200 transition" onclick="selectAnswer(this, '${option.replace(/'/g, "\\'")}')">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                    <p class="explanation mt-4 p-4 bg-yellow-100 border-l-4 border-yellow-500 rounded-r-lg">${question.explanation}</p>
                `;
                wrapper.appendChild(qDiv);
                
                document.getElementById('question-counter').innerText = `প্রশ্ন ${currentQuestionIndex + 1}/${quizQuestions.length}`;
                document.getElementById('next-question-btn').classList.add('hidden');
                
                startTimer(question.time);
            } else {
                showResult();
            }
        }

        function startTimer(duration) {
            clearInterval(timerInterval);
            let timeLeft = duration;
            const timerEl = document.getElementById('timer');
            const timerBar = document.getElementById('timer-bar');
            
            timerEl.innerText = `সময়: ${timeLeft}s`;
            timerBar.style.width = '100%';
            
            setTimeout(() => {
                timerBar.style.transition = `width ${duration}s linear`;
                timerBar.style.width = '0%';
            }, 100);

            timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.innerText = `সময়: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeout();
                }
            }, 1000);
        }

        function handleTimeout() {
            const question = quizQuestions[currentQuestionIndex];
            wrongAnswers.push({ question: question.question, correctAnswer: question.answer, explanation: question.explanation });
            
            const options = document.querySelectorAll('.option-btn');
            options.forEach(btn => {
                btn.disabled = true;
                if (btn.innerText === question.answer) {
                    btn.classList.add('correct');
                }
            });
            
            document.querySelector('.explanation').style.display = 'block';
            document.getElementById('next-question-btn').classList.remove('hidden');
        }

        function selectAnswer(button, selectedOption) {
            clearInterval(timerInterval);
            document.getElementById('timer-bar').style.transition = 'none';
            
            const question = quizQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.option-btn');
            options.forEach(btn => btn.disabled = true);

            button.classList.add('selected');

            if (selectedOption === question.answer) {
                score++;
                button.classList.add('correct');
            } else {
                button.classList.add('incorrect');
                wrongAnswers.push({ question: question.question, correctAnswer: question.answer, explanation: question.explanation });
                options.forEach(btn => {
                    if (btn.innerText === question.answer) {
                        btn.classList.add('correct');
                    }
                });
            }
            
            document.querySelector('.explanation').style.display = 'block';
            document.getElementById('next-question-btn').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        function showResult() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-result-screen').classList.remove('hidden');

            document.getElementById('result-summary').innerHTML = `<b>${studentName}</b>, আপনি ${quizQuestions.length}টি প্রশ্নের মধ্যে ${score}টি সঠিক উত্তর দিয়েছেন।`;

            const wrongAnswersContainer = document.getElementById('wrong-answers-container');
            wrongAnswersContainer.innerHTML = '<h3 class="text-2xl font-semibold border-b pb-2">ভুল উত্তর ও সঠিক ব্যাখ্যা:</h3>'; // Reset
            if (wrongAnswers.length > 0) {
                wrongAnswers.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg fade-in';
                    div.innerHTML = `
                        <p class="font-semibold">${item.question}</p>
                        <p class="text-green-700 mt-2"><b>সঠিক উত্তর:</b> ${item.correctAnswer}</p>
                        <p class="text-gray-700 mt-1"><b>ব্যাখ্যা:</b> ${item.explanation}</p>
                    `;
                    wrongAnswersContainer.appendChild(div);
                });
            } else {
                wrongAnswersContainer.innerHTML += '<p class="text-green-600 font-semibold mt-4">দারুণ! আপনার কোনো উত্তর ভুল হয়নি।</p>';
            }
        }

        function restartQuiz() {
            document.getElementById('quiz-result-screen').classList.add('hidden');
            document.getElementById('quiz-start-screen').classList.remove('hidden');
        }

    </script>
</body>
</html>
